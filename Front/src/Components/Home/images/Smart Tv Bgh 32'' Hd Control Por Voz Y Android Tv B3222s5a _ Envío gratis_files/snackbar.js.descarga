function _typeof(n){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var SnackbarWidget=function(){"use strict";var n,t=function(){function t(n){_classCallCheck(this,t);var e={};if([{message:"",type:"default",autoClose:!0,mountElement:"main",action:{title:"",link:"",callback:void 0},delay:3e3},n].forEach((function(n){Object.keys(n).forEach((function(t){Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}))})),!e.message||""===e.message.trim())throw new Error("Snackbar: message cannot be empty.");if(Object.prototype.hasOwnProperty.call(e,"mountElement")&&("string"===!_typeof(e.mountElement)||""===e.mountElement.trim()))throw new Error("Snackbar: mountElement has to be a string and it cannot be empty.");return this.config=e,this.ui={container:window.document.querySelector(this.config.mountElement)||window.document.body},this.classes={component:"ui-snackbar",active:"ui-snackbar--is-active",inactive:"ui-snackbar--is-inactive",type:"ui-snackbar--".concat(e.type),message:"ui-snackbar__message",action:"ui-snackbar__action"},this.handlers={customCallback:this.customCallback.bind(this)},this.el=this.ui.container.querySelector(".".concat(this.classes.component)),this.action=this.getAction(),this.timings={closeDelay:e.delay,animationDelay:500,touchDelay:300},this.init(),this}return _createClass(t,[{key:"init",value:function(){var n=this;this.el?this.hasClass(this.el,this.classes.active)?(this.hide(),this.delay("animationDelay",(function(){n.edit(),n.show()}))):(this.edit(),this.show()):(this.create(),this.show())}},{key:"create",value:function(){this.ui.container.insertAdjacentHTML("beforeend",this.getTemplate())}},{key:"edit",value:function(){this.el.className=this.getInitialClasses(),this.el.innerHTML=this.getInnerTemplate()}},{key:"show",value:function(){this.el=this.ui.container.querySelector(".".concat(this.classes.component)),this.el&&(this.addClass(this.el,this.classes.active),this.config.autoClose&&this.config.delay&&this.autoHide(),this.action&&"function"==typeof this.action.callback&&this.bindEvents())}},{key:"hide",value:function(){this.removeClass(this.el,this.classes.active),this.addClass(this.el,this.classes.inactive)}},{key:"autoHide",value:function(){clearTimeout(n),n=this.delay("closeDelay",this.hide)}},{key:"delay",value:function(n,t){var e=this.timings[n]||this.timings.closeDelay;return setTimeout(t.bind(this),e)}},{key:"bindEvents",value:function(){this.el.querySelector(".".concat(this.classes.action)).addEventListener("click",this.handlers.customCallback)}},{key:"customCallback",value:function(n){n.preventDefault(),this.action.callback(),this.delay("touchDelay",this.hide),n.currentTarget.removeEventListener("click",this.handlers.customCallback)}},{key:"getAction",value:function(){var n,t=this.config.action;return""!==t.title&&(n={title:t.title},t.link&&""!==t.link?n.link=t.link:t.callback&&"function"==typeof t.callback&&(n.callback=t.callback)),n}},{key:"getInitialClasses",value:function(){return"".concat(this.classes.component," ").concat(this.classes.type)}},{key:"getTemplate",value:function(){var n=this.getInitialClasses(),t=this.getInnerTemplate();return'<div class="'.concat(n,'">').concat(t,"</div>")}},{key:"getInnerTemplate",value:function(){var n=this.action||{},t=n.link,e=n.title,a=this.classes,i=a.action,s=a.message,c='<a href="'.concat(t||"#",'" class="').concat(i,'">').concat(e,"</a>");return'<p class="'.concat(s,'">').concat(this.config.message,"</p>").concat(this.action?c:"")}},{key:"addClass",value:function(n,t){n.classList?n.classList.add(t):n.className+=" ".concat(t)}},{key:"removeClass",value:function(n,t){n.classList?n.classList.remove(t):n.className=n.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")}},{key:"hasClass",value:function(n,t){return n.classList?n.classList.contains(t):new RegExp("(^| )".concat(t,"( |$)"),"gi").test(n.className)}}]),t}();!function(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}('@keyframes snackbar-show {\n  from {\n    opacity: 0;\n    transform: translate3d(-50%, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    transform: translate3d(-50%, 0, 0);\n  }\n}\n@keyframes snackbar-hide {\n  0% {\n    transform: translate3d(-50%, 0, 0);\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    transform: translate3d(-50%, 100%, 0);\n  }\n}\n.no-js .ui-snackbar, .ui-snackbar--is-active {\n  animation-name: snackbar-show;\n}\n\n.no-js .ui-snackbar__close:checked + .ui-snackbar, .ui-snackbar--is-inactive {\n  animation-name: snackbar-hide;\n  animation-fill-mode: forwards;\n}\n\n.ui-snackbar {\n  position: fixed;\n  z-index: 1022;\n  width: 100%;\n  font-size: 14px;\n  line-height: 1.25;\n  color: #fff;\n  background-color: #333;\n  bottom: 0;\n  display: table;\n  border-spacing: 20px;\n  border-collapse: separate;\n  animation-duration: 0.5s;\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.ui-snackbar--default {\n  background-color: #333;\n}\n\n.ui-snackbar--success {\n  background-color: #39b54a;\n}\n\n.ui-snackbar--error {\n  background-color: #f04449;\n}\n\n.ui-snackbar__message,\n.ui-snackbar__action {\n  display: table-cell;\n}\n\n.ui-snackbar__action {\n  color: #fff;\n  background: inherit;\n  border: 0;\n  font-size: inherit;\n  text-transform: uppercase;\n  padding-left: 0;\n  height: 100%;\n  text-align: right;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n\na.ui-snackbar__action,\na.ui-snackbar__action:link,\na.ui-snackbar__action:active,\na.ui-snackbar__action:visited,\na.ui-snackbar__action:hover {\n  color: #fff;\n  text-decoration: none;\n}\n\n.ui-snackbar__close,\n.ui-snackbar__close-trigger {\n  display: none;\n}\n\n.no-js .ui-snackbar__close-trigger {\n  position: relative;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n  display: table-cell;\n}\n.no-js .ui-snackbar__close-trigger:after, .no-js .ui-snackbar__close-trigger:before {\n  position: absolute;\n  left: 7.5px;\n  top: 0;\n  content: "";\n  height: 15px;\n  width: 2px;\n  background-color: #fff;\n  cursor: pointer;\n}\n.no-js .ui-snackbar__close-trigger:before {\n  transform: rotate(45deg);\n}\n.no-js .ui-snackbar__close-trigger:after {\n  transform: rotate(-45deg);\n}\n.ui-snackbar--is-pristine {\n  display: none !important;\n}\n\n@media (min-width: 768px) {\n  .ui-snackbar {\n    max-width: 600px;\n    bottom: 24px;\n    font-size: 16px;\n    border-radius: 4px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .ui-snackbar__action {\n    font-size: 14px;\n  }\n}');var e=t,a=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,n),this.bus=t.bus,this.bus.on("snackbar:show",this.show.bind(this)),this.bus.on("snackbar:hide",this.hide.bind(this)),t.scope&&(t.scope.Snackbar=e)}return _createClass(n,[{key:"show",value:function(n){return this.snackbar=new e(n),this.snackbar}},{key:"hide",value:function(){return this.snackbar&&this.snackbar.hide(),this.snackbar}}]),n}();return a}();

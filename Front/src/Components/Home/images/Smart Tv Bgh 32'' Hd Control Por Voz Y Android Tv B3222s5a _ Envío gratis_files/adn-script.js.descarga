!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:function(){return _}});var n=function(t){var e,n;return null!==(e=null===(n="; ".concat(document.cookie).split("; ".concat(t,"=")).pop())||void 0===n?void 0:n.split(";").shift())&&void 0!==e?e:null},r=function(t){return new Promise((function(e,r){var o=n("adserver-scope"),i=t.get("ad_unit")||"";o&&t.set("scope",o);var a=new XMLHttpRequest;a.open("GET","".concat(function(t){var e=window.location.hostname,n=e.split(".").slice(1).join(".");return e.includes("mercadopago")?"https://placements.".concat(n,"/v1/adn/").concat(t):"https://".concat(e.replace("dev","www"),"/adn/api")}(i),"?").concat(t.toString())),a.responseType="json",a.withCredentials=!0,a.onload=function(){[200,204].includes(null==a?void 0:a.status)||r(new Error("status code ".concat(null==a?void 0:a.status," not valid"))),e(a.response)},a.onerror=function(){r(new Error("XMLHttpRequest network error"))},a.send()}))},o=function(t){var e=document.createElement("script");"noModule"in e!=!1&&Promise.allSettled?t():(e.src="https://http2.mlstatic.com/frontend-assets/adn-frontend-library/adn-polyfills.js",e.defer=!0,e.onload=t,document.head.appendChild(e))},i="/advertising/adn",a="cleanAndSend",c="success",l="error",u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;window.melidata&&window.melidata(a,"event",{path:e,event_data:t})},s=function(t){return{status:c,source:"script",params:{placement:(null==t?void 0:t.getAttribute("data-placement"))||"",page:(null==t?void 0:t.getAttribute("data-page"))||"",slot_id:(null==t?void 0:t.getAttribute("data-slot_id"))||""}}},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s(t);e&&(r.status=l,r.reason=e,null==t||t.setAttribute("style","display:none;")),n&&(r.status=c),u(r)},f=["sponsor_landing"],p=["ios","android"];function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=function(t){try{return JSON.stringify(t)}catch(t){return JSON.stringify([])}},g=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},w=function(t){for(var e={},n=0,r=!0;n<t.attributes.length&&r;){var o,i=null!==(o=t.attributes[n].name.replace("data-",""))&&void 0!==o?o:"";"component"!==i&&"content"!==i&&(e["".concat(i)]=t.attributes[n].value),"content"===i&&(e=JSON.parse(t.attributes[n].value).queries,r=!1),n+=1}return new URLSearchParams(e)},x=function(t){return new Promise((function(e,n){g(t);var o,i=function(t){var e=t.getAttribute("data-content")||"{}";try{return JSON.parse(e).fast_loading}catch(e){return d(t,"Invalid JSON data-content"),null}}(t);if(i)e({item:i,banner:t});else{var a=w(t);a.set("unique_id",(o=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"==t?e:3&e|8).toString(16)})))),r(a).then((function(r){if(null!=r&&r.items.length){var o=m(r.items,1)[0];e({item:o,banner:t})}else d(t,"Empty response, with params ".concat(a.toString())),n()})).catch((function(e){d(t,"fail fetching: ".concat(e.message,", with params ").concat(a.toString())),n()}))}}))},A=function(t,e){var n;!function(t,e){var n=e.get("page")||"",r=e.get("platform")||"";f.includes(n)&&p.includes(r)&&t.setAttribute("data-auto_refresh","initial")}(t,w(t)),"initial"===(null!==(n=t.getAttribute("data-auto_refresh"))&&void 0!==n?n:"")&&(t.setAttribute("data-auto_refresh","ready"),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&"finished"===window.adn&&(null!=t&&t.hasAttribute("style")&&(null==t||t.removeAttribute("style")),e())})))};window["adn-scripts"]={};var S=function t(){window.adn="loaded";var e=document.querySelectorAll('[data-component="adn"]');e.length>0?Promise.allSettled(v(e).map(x)).then((function(t){var e=function(t){var e=t.item,r=e.content,o=r.actions.content_link.link,i=r.texts,a=r.images,c=r.colors,l=e.event_tracking,u=l.print,s=l.click,f=l.view,p=e.template,v=e.lazy_loading_print_percentage,m=t.banner;g(m);var b=n("adn-template-tag")||p.tag,y=document.createElement("".concat(b));if(Object.keys(i).forEach((function(t){return y.setAttribute(t,i[t])})),Object.keys(a).forEach((function(t){return y.setAttribute(t,a[t])})),Object.keys(c).forEach((function(t){return y.setAttribute(t,c[t])})),y.setAttribute("destination_url",o),y.setAttribute("print_url",h(u)),y.setAttribute("click_url",h(s)),f&&y.setAttribute("view_url",h(f)),v>-1&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype){var w=function(){var t=arguments.length>1?arguments[1]:void 0;return new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(e.target.appendChild(t),n.disconnect())}))}),{root:null,rootMargin:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,"%")})}(v,y);w.observe(m)}else m.appendChild(y);d(m)};t.forEach((function(t){if("fulfilled"===t.status){var r=t.value,o=r.item.template,i=r.banner;if(window["adn-scripts"][o.url])e(t.value);else{var a=o.url,c=n("adn-template-version");if(c){a=a.replace(/(\d+\.\d+\.\d+)(?=.js)/,"".concat(c))}var l=n("adn-template-names");if(l)l.split(",").forEach((function(t){var e=m(t.split(":"),2),n=e[0],r=e[1],o=new RegExp("/adn-frontend-library/".concat(n,"..*js"));a=a.replace(o,"/adn-frontend-library/".concat(r,".js"))}));window["adn-scripts"][o.url]=a;var u=document.createElement("script");u.src=a,u.defer=!0,u.onload=function(){return e(t.value)},document.head.appendChild(u)}d(i)}}))})).catch((function(){e.forEach((function(t){return d(t,"error adding banners")}))})).finally((function(){window.adn="finished",e.forEach((function(e){return A(e,t)}))})):d(void 0,"banners not found")},_=void o(S),E=window;for(var O in e)E[O]=e[O];e.__esModule&&Object.defineProperty(E,"__esModule",{value:!0})}();
//# sourceMappingURL=adn-script.js.map
var CategoriesWidget=function(){"use strict";const e=e=>{const{name:t,permalink:n,children_categories:s,type:a}=e;return s||t?'\n    <div class="nav-categs-detail__categ" data-type="'.concat(a,'">\n      ').concat(t?'<h2 class="nav-categs-detail__title">\n        <a href="'.concat(n,'">').concat(t,"</a>\n      </h2>"):"","\n      ").concat(s?'<ul class="nav-categs-detail__categ-list">\n        '.concat(s.map((e=>{let{name:t,permalink:n}=e;return t?'<li><a href="'.concat(n,'">').concat(t,"</a></li>"):""})).join(""),"\n      </ul>"):"","\n    </div>"):""},t=e=>{let{sidebar:t}=e;return'\n<aside class="nav-categs-detail__body-aside">\n  <h2 class="nav-categs-detail__title">'.concat(t.title,'</h2>\n  <ul class="nav-categs-detail__list">\n  ').concat(t.brands.map((e=>{let{fantasy_name:t,permalink:n,pictures:s}=e;const a=s.length?s[0]:s;return'<li>\n        <a href="'.concat(n,'" style="background-image:url(').concat(a.secure_url,')">').concat(t,"</a>\n      </li>")})).join(""),"\n  </ul>\n</aside>")};var n=n=>{let{name:s,categories:a,sidebar:i}=n;return'\n<header class="nav-categs-detail__header">\n  <h1>'.concat(s,'</h1>\n</header>\n<div class="nav-categs-detail__body">\n  <div class="nav-categs-detail__body-content">\n    ').concat(a.length?a.map((t=>e(t))).join(""):null,"\n  </div>\n  ").concat(i?t({sidebar:i}):"","\n</div>\n")};function s(e){const t=e.querySelectorAll("a[href]");return Array.prototype.slice.call(t)}var a={keyTrap:function(e,t,n){9===e.keyCode&&(e.shiftKey?document.activeElement===t&&(e.preventDefault(),n.focus()):document.activeElement===n&&(e.preventDefault(),t.focus()))},firstTargetStop:function(e){return s(e)},lastTargetStop:function(e){const t=s(e);return t[t.length-1]}};const i=n,{keyTrap:r,firstTargetStop:o,lastTargetStop:l}=a;var c=e=>{let{landings:t,homes:n,more_categories:s,departments:a,high_priority:i}=e;return"\n  ".concat(i?"\n    ".concat(i.map((e=>{let{label:t,permalink:n}=e;return'\n      <li class="nav-categs-departments__list nav-categs-departments__list--static">\n        <a href="'.concat(n,'">').concat(t,"</a>\n      </li>\n    ")})).join(""),"\n  "):"","\n  ").concat(a.map(((e,t)=>{let{name:n}=e;return'\n    <li class="nav-categs-departments__list nav-categs-departments__list--dynamic">\n      <a href="#" data-order="'.concat(t,'" role="button" aria-expanded="false">').concat(n,"</a>\n    </li>\n  ")})).join(""),"\n  ").concat(t.map((e=>{let{label:t,permalink:n}=e;return'\n    <li class="nav-categs-departments__list nav-categs-departments__list--static">\n      <a href="'.concat(n,'">').concat(t,"</a>\n    </li>\n  ")})).join(""),"\n  ").concat(n?"\n    ".concat(n.map((e=>{let{label:t,permalink:n}=e;return'\n      <li class="nav-categs-departments__list nav-categs-departments__list--static">\n        <a href="'.concat(n,'">').concat(t,"</a>\n      </li>\n    ")})).join(""),"\n  "):"",'\n  <li class="nav-categs-departments__list nav-categs-departments__list--static">\n    <a href="').concat(s.permalink,'">').concat(s.label,"</a>\n  </li>\n")};function d(e,t){return{x:t.x-e.x,y:t.y-e.y}}function h(e,t){return e.x*t.x+e.y*t.y}var g=function(e){const t=JSON.parse(JSON.stringify(e));return t.departments=e.departments.map((e=>(e.categories=e.categories.map((e=>{const t=e.children_categories;if(!t||!t.length)return e;const n=t.length;return n>=11?(e.children_categories.length=11,e.type="full",e):n<11&&n>=4?(e.children_categories.length=4===n?4:5,e.type="half",e):n<4&&n>=2?(e.children_categories.length=2,e.type="thirds",e):e})),e))),t};const p=class{constructor(e){this.super=e.super,this.el=document.querySelector('[data-js="nav-categs-detail"]'),this.el.parent=[],this.firstTabStop=[],this.lastTabStop=[],this.events={handleDetailKeyPress:this.handleDetailKeyPress.bind(this)},this.bindEvents(!0)}bindEvents(e){const t="".concat(e?"add":"remove","EventListener");this.el["".concat(t)]("keydown",this.events.handleDetailKeyPress)}findTabStops(){this.el.visibleAnchors=this.el.querySelector(".nav-categs-detail__body-content"),[this.firstTabStop]=o(this.el.visibleAnchors),this.lastTabStop=l(this.el.visibleAnchors)}handleDetailKeyPress(e){r(e,this.firstTabStop,this.lastTabStop)}hideDetailByEscaping(e){27===e.keyCode&&(this.hide(),0!==this.el.parent.length&&this.el.parent.focus())}show(e,t){this.el.parent=t,this.el.props=e,this.el.innerHTML=i(this.el.props),this.el.ariaLabel=this.el.parent.innerText,this.el.removeAttribute("hidden"),this.super.toggleDetailsVisibility(!0),this.findTabStops(),this.el.addEventListener("keydown",this.events.handleDetailKeyPress),this.el.focus({preventScroll:!0})}hide(){this.el.setAttribute("hidden","hidden"),this.super.toggleDetailsVisibility(!1),this.el.removeEventListener("keydown",this.events.handleDetailKeyPress)}},m=c,u=function(e,t,n,s){const a=d(t,s),i=d(t,n),r=d(t,e),o=h(a,a),l=h(a,i),c=h(a,r),g=h(i,i),p=h(i,r),m=1/(o*g-l*l),u=(g*c-l*p)*m,v=(o*p-l*c)*m;return u>=0&&v>=0&&u+v<1},v=g,{keyTrap:b,firstTargetStop:y,lastTargetStop:f}=a;const _=class{constructor(e){this.detail=new p({super:this}),this.super=e.super,this.model=v(e.model),this.lastSelected=null,this.el=document.querySelector('[data-js="nav-categs-departments"]'),this.el.current={},this.mousePointsQueue=[],this.firstTabStop=[],this.lastTabStop=[],this.events={handleMove:this.handleMove.bind(this),handleLeave:this.handleLeave.bind(this),handleOver:this.handleOver.bind(this),handleClick:this.handleClick.bind(this),handleDepartmentsKeyPress:this.handleDepartmentsKeyPress.bind(this)},this.bindEvents(!0)}bindEvents(e){const t="".concat(e?"add":"remove","EventListener");this.el["".concat(t)]("mousemove",this.events.handleMove),this.el["".concat(t)]("mouseleave",this.events.handleLeave),this.el["".concat(t)]("mouseover",this.events.handleOver),this.el["".concat(t)]("click",this.events.handleClick),this.el["".concat(t)]("keydown",this.events.handleDepartmentsKeyPress)}render(){this.el.innerHTML=m(this.model),[this.firstTabStop]=y(this.el),this.lastTabStop=f(this.el),setTimeout((()=>{this.calculateOffsetPoints(),this.el.parentElement.focus({preventScroll:!0}),this.el.addEventListener("keydown",this.events.handleDepartmentsKeyPress)}),0)}cleanSelected(){this.lastSelected&&(this.lastSelected.classList.remove("nav-categs-departments__selected"),this.lastSelected.ariaExpanded=!1,this.lastSelected=null)}markSelected(e){e.classList.add("nav-categs-departments__selected"),e.ariaExpanded=!0,this.lastSelected=e}handleClick(e){"A"===e.target.tagName&&e.target.dataset&&e.target.dataset.order&&(e.preventDefault(),this.handleSelection(e.target,"click"))}handleDepartmentsKeyPress(e){b(e,this.firstTabStop,this.lastTabStop),"A"===e.target.tagName&&e.target.dataset&&e.target.dataset.order&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.handleSelection(e.target,"keydown")))}handleOver(e){const{target:t}=e;if("A"===t.tagName){if(this.mousePointsQueue.length){const t={x:e.pageX,y:e.pageY};if(u(t,this.upperRight,this.lowerRight,this.mousePointsQueue[0]))return}this.handleSelection(t,"mouseover")}}handleSelection(e,t){this.el.current=e,this.cleanSelected();const n=e.getAttribute("data-order");if(!n&&"keydown"!==t)return void this.detail.hide();const s=this.model.departments["".concat(n)];this.markSelected(this.el.current),this.detail.show(s,this.el.current),this.calculateOffsetPoints(),this.super.setOverlay()}toggleDetailsVisibility(e){this.super.toggleDetailsVisibility(e)}hide(){this.cleanSelected(),this.el.removeEventListener("keydown",this.events.handleDepartmentsKeyPress),this.detail.hide()}calculateOffsetPoints(){const e=this.el.getBoundingClientRect();this.upperRight={x:e.right+window.pageXOffset,y:e.top+window.pageYOffset},this.lowerRight={x:e.right+window.pageXOffset,y:e.bottom+window.pageYOffset}}handleMove(e){if(this.clearStillTimeout(),"A"!==e.target.tagName)return;this.setStillTimeout(e);const t={x:e.pageX,y:e.pageY};this.mousePointsQueue.push(t),this.mousePointsQueue.length>2&&this.mousePointsQueue.shift(),this.prevMousePoint&&this.prevMousePoint.x>t.x&&this.handleOver(e),this.prevMousePoint=t}handleLeave(){this.mousePointsQueue=[],this.clearStillTimeout()}clearStillTimeout(){this.stillTimeout&&clearTimeout(this.stillTimeout)}setStillTimeout(e){this.stillTimeout=setTimeout((()=>{this.lastSelected&&this.lastSelected===e.target||this.handleSelection(e.target,"timeout")}),100)}},w=e=>'\n<div\n  class="nav-categs"\n  data-js="nav-categs"\n  aria-label="'.concat(e,'"\n  aria-modal="true"\n  tabindex="-1"\n  role="dialog"\n  hidden\n>\n  <ul class="nav-categs-departments" data-js="nav-categs-departments"></ul>\n  <div\n    class="nav-categs-detail"\n    data-js="nav-categs-detail"\n    aria-modal="true"\n    tabindex="-1"\n    role="dialog"\n    hidden\n  ></div>\n</div>\n'),x=()=>'\n  <div class="nav-categs-overlay" data-js="nav-categs-overlay" hidden></div>\n';var k=class{constructor(e){let{model:t,triggerSelector:n,bus:s}=e;if(this.trigger=document.querySelector(n),this.trigger.ariaExpanded=!1,this.trigger.setAttribute("role","button"),!this.trigger)throw new Error("CategoriesWidget: missing trigger element");return this.triggerParent=this.trigger.parentElement,this.renderStructure(),this.el=document.querySelector('[data-js="nav-categs"]'),this.el.list=this.el.querySelector('[data-js="nav-categs-departments"'),this.setOverlay(),this.shown=!1,this.timeouts={show:null,hide:null},this.departments=new _({model:t,super:this}),this.bus=s,this.events={hideByEscaping:this.hideByEscaping.bind(this),showByKeyPress:this.showByKeyPress.bind(this),stopPropagation:this.stopPropagation.bind(this),preventDefault:this.preventDefault.bind(this),triggerMouseEnter:this.triggerMouseEnter.bind(this),elemsMouseEnter:this.elemsMouseEnter.bind(this),elemsMouseLeave:this.elemsMouseLeave.bind(this)},this.bindEvents(!0),this}bindEvents(e){const t="".concat(e?"add":"remove","EventListener");this.el["".concat(t)]("click",this.events.stopPropagation),this.trigger["".concat(t)]("click",this.events.triggerMouseEnter),this.trigger["".concat(t)]("mouseenter",this.events.triggerMouseEnter),this.trigger["".concat(t)]("keydown",this.events.showByKeyPress),[this.trigger,this.el].forEach((e=>{e["".concat(t)]("mouseenter",this.events.elemsMouseEnter)})),[this.trigger,this.el].forEach((e=>{e["".concat(t)]("mouseleave",this.events.elemsMouseLeave)}))}handleMouseLeave(){this.showTimerCleaner(),this.hideTimer()}hideByEscaping(e){27===e.keyCode&&this.shown&&(this.hideTimer(),this.trigger.focus())}showByKeyPress(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),this.shown||this.showTimer())}stopPropagation(e){e.stopPropagation()}preventDefault(e){e.preventDefault()}triggerMouseEnter(e){e.stopPropagation(),e.preventDefault(),this.shown||this.showTimer()}elemsMouseEnter(e){this.hideTimerCleaner(e)}elemsMouseLeave(e){this.handleMouseLeave(e)}renderStructure(){this.trigger.insertAdjacentHTML("afterend",w(this.trigger.innerText)),document.body.insertAdjacentHTML("beforeend",x())}setOverlay(){this.overlay={el:document.querySelector('[data-js="nav-categs-overlay"]'),header:document.querySelector(".nav-header"),body:document.body},this.overlay.sizes={header:this.overlay.header.offsetHeight+this.overlay.header.offsetTop,body:this.overlay.body.offsetHeight};const e=parseInt(window.getComputedStyle(this.overlay.el).getPropertyValue("padding-bottom")),t=this.el.offsetHeight+e,n=this.overlay.sizes.body-this.overlay.sizes.header;this.overlay.el.style.minHeight="".concat(n>t?n:t,"px"),this.overlay.el.style.top="".concat(this.overlay.sizes.header,"px")}hide(){this.bus.emit("categories:hide:before"),this.trigger.ariaExpanded=!1,this.el.setAttribute("hidden","hidden"),this.shown=!1,this.overlay.el.setAttribute("hidden","hidden"),this.departments.hide(),this.triggerParent.classList.remove("nav-menu-chevron-down"),this.el.removeEventListener("keydown",this.events.hideByEscaping),this.trigger.addEventListener("keydown",this.events.showByKeyPress),this.bus.emit("categories:hide:after")}show(){this.bus.emit("categories:show:before"),this.trigger.ariaExpanded=!0,this.departments.render(),this.el.removeAttribute("hidden"),this.shown=!0,this.setOverlay(),this.overlay.el.removeAttribute("hidden"),this.triggerParent.classList.add("nav-menu-chevron-down"),this.el.addEventListener("keydown",this.events.hideByEscaping),this.trigger.removeEventListener("keydown",this.events.showByKeyPress),this.bus.emit("categories:show:after")}hideTimer(){this.timeouts.hide=window.setTimeout((()=>{this.hide()}),250)}hideTimerCleaner(){window.clearTimeout(this.timeouts.hide)}showTimer(){this.timeouts.show=window.setTimeout((()=>{this.show()}),250)}showTimerCleaner(){window.clearTimeout(this.timeouts.show)}toggleDetailsVisibility(e){const t=e?"add":"remove";this.el.classList["".concat(t)]("nav-categs--with-details")}};var S=()=>'\n  <div \n    class="nav-categs-mobile"\n    data-js="nav-categs-mobile"\n    hidden\n  >\n    <ul class="nav-categs-departments-mobile" data-js="nav-categs-departments-mobile"></ul>\n  </div>\n';var E=e=>e&&e.length>0?"\n    ".concat(e.map((e=>{let{name:t,permalink:n}=e;return'\n      <li class="nav-categs-departments-mobile-item">\n        <a href="'.concat(n,'">').concat(t,"</a> \n      </li>")})).join(""),"\n    "):"";const T=E;var P=e=>{const{landings:t,homes:n,more_categories:s,departments:a,high_priority:i}=e,r="nav-categs-departments-mobile";return"\n  ".concat(i?"\n    ".concat(i.map((e=>{let{label:t,permalink:n}=e;return'\n      <li class="'.concat(r,"__list ").concat(r,'__list--static">\n        <a href="').concat(n,'">').concat(t,"</a>\n      </li>\n    ")})).join(""),"\n  "):"","\n  ").concat(a.map((e=>{let{name:t,categories:n}=e;return'\n    <li class="'.concat(r,"__list ").concat(r,'__list--dynamic">\n      <details \n        class="').concat(r,'__details"\n      >\n        <summary\n          class="').concat(r,'__summary"\n        >').concat(t,'</summary>\n        <ul\n          class="').concat(r,'__categories"\n        >\n          ').concat(null!=n&&n.length?T(n):null,"\n        </ul>\n      </details>\n    </li>\n  ")})).join(""),"\n  ").concat(t.map((e=>{let{label:t,permalink:n}=e;return'\n    <li class="'.concat(r,"__list ").concat(r,'__list--static">\n      <a href="').concat(n,'">').concat(t,"</a>\n    </li>\n  ")})).join(""),"\n  ").concat(n?"\n    ".concat(n.map((e=>{let{label:t,permalink:n}=e;return'\n      <li class="'.concat(r,"__list ").concat(r,'__list--static">\n        <a href="').concat(n,'">').concat(t,"</a>\n      </li>\n    ")})).join(""),"\n  "):"",'\n  <li class="').concat(r,"__list ").concat(r,'__list--static">\n    <a href="').concat(s.permalink,'">').concat(s.label,"</a>\n  </li>\n")};const L=P,C=g;const D=S,j=class{constructor(e){this.super=e.super,this.model=C(e.model),this.lastSelected=null;this.el=document.querySelector('[data-js="nav-categs-departments-mobile"]'),this.el.current={},this.events={handleClick:this.handleClick.bind(this)},this.bindEvents(!0)}bindEvents(e){const t="".concat(e?"add":"remove","EventListener");this.el["".concat(t)]("click",this.events.handleClick)}render(){this.el.innerHTML=L(this.model)}cleanSelected(){this.lastSelected&&(this.lastSelected.classList.remove("nav-categs-departments__selected"),this.lastSelected.ariaExpanded=!1,this.lastSelected=null)}markSelected(e){e.classList.add("nav-categs-departments__selected"),e.ariaExpanded=!0,this.lastSelected=e}handleClick(e){"A"===e.target.tagName&&e.target.dataset&&e.target.dataset.order&&(e.preventDefault(),this.handleSelection(e.target,"click"))}handleOver(e){const{target:t}=e;"A"===t.tagName&&this.handleSelection(t,"mouseover")}handleSelection(e){this.el.current=e,this.cleanSelected(),this.markSelected(this.el.current)}hide(){this.cleanSelected(),this.el.removeEventListener("keydown",this.events.handleDepartmentsKeyPress),this.detail.hide()}};var M=class{constructor(e){let{model:t,triggerSelector:n,bus:s}=e;if(this.trigger=document.querySelector(n),this.trigger.ariaExpanded=!1,this.trigger.setAttribute("role","button"),!this.trigger)throw new Error("CategoriesWidget: missing trigger element");return this.triggerParent=this.trigger.parentElement,this.renderStructure(),this.el=document.querySelector('[data-js="nav-categs-mobile"]'),this.el.list=this.el.querySelector('[data-js="nav-categs-departments-mobile"'),this.shown=!1,this.departments=new j({model:t,super:this}),this.bus=s,this.events={stopPropagation:this.stopPropagation.bind(this),preventDefault:this.preventDefault.bind(this),handleClick:this.handleClick.bind(this)},this.departments.render(),this.bindEvents(!0),this}bindEvents(e){const t="".concat(e?"add":"remove","EventListener");this.el["".concat(t)]("click",this.events.stopPropagation),this.trigger["".concat(t)]("click",this.events.handleClick)}stopPropagation(e){e.stopPropagation()}preventDefault(e){e.preventDefault()}handleClick(e){this.stopPropagation(e),this.preventDefault(e),this.shown?this.hide():this.show()}renderStructure(){this.trigger.classList.add("nav-menu-chevron-down"),this.trigger.insertAdjacentHTML("afterend",D())}hide(){this.bus.emit("categories:hide:before"),this.trigger.ariaExpanded=!1,this.el.setAttribute("hidden","hidden"),this.shown=!1,this.trigger.classList.add("nav-menu-chevron-down"),this.trigger.classList.remove("nav-menu-chevron-up"),this.bus.emit("categories:hide:after")}show(){this.bus.emit("categories:show:before"),this.trigger.ariaExpanded=!0,this.el.removeAttribute("hidden"),this.shown=!0,this.trigger.classList.add("nav-menu-chevron-up"),this.trigger.classList.remove("nav-menu-chevron-down"),this.bus.emit("categories:show:after")}};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('/**\n * UI Library\n */\n.u-clearfix:after, .u-clearfix:before {\n  display: table;\n  content: "";\n}\n.u-clearfix:after {\n  clear: both;\n}\n\n/**\n* Helpers\n*/\n[data-js=nav-menu-categories-trigger]:before {\n  content: "";\n  opacity: 0;\n}\n\n[data-js=nav-menu-categories-trigger]:hover:before {\n  content: "";\n  opacity: 1;\n}\n\n/**\n* Components\n*/\n.nav-categs {\n  border-radius: 4px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3);\n  box-sizing: border-box;\n  font-family: "Proxima Nova", -apple-system, "Helvetica Neue", Helvetica, "Roboto", Arial, sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  margin: 9px 0 0 -10px;\n  max-width: 1200px;\n  position: absolute;\n  z-index: 10000;\n  display: flex;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.nav-categs * {\n  box-sizing: border-box;\n}\n.nav-categs a,\n.nav-categs a:link {\n  color: inherit;\n  text-decoration: none;\n}\n.nav-categs ul {\n  margin: 0;\n  list-style: none;\n}\n.nav-categs:before {\n  content: "";\n  width: 0;\n  height: 0;\n  border: 0 solid transparent;\n  border-right-width: 14px;\n  border-left-width: 14px;\n  border-bottom: 14px solid #333;\n  top: -8px;\n  left: 76px;\n  position: absolute;\n  display: block;\n}\n.nav-categs:focus {\n  outline: none;\n}\n\n.nav-categs--with-details {\n  width: 100%;\n}\n\n.nav-categs-overlay {\n  position: absolute;\n  left: 0;\n  opacity: 0.3;\n  background-color: #333;\n  width: 100%;\n  height: 100%;\n  height: auto;\n  box-sizing: border-box;\n  padding-bottom: 32px;\n  z-index: 1001;\n}\n\n.nav-categs a:after {\n  content: none;\n}\n\n.nav-categs[hidden],\n.nav-categs-overlay[hidden] {\n  display: none;\n}\n\n.nav-bounds-with-cp .nav-categs {\n  left: 66px;\n}\n.nav-bounds-with-cp .nav-categs:before {\n  left: 202px;\n}\n.nav-bounds-with-cp .nav-categs-detail__body-aside {\n  display: none;\n}\n\n@media (max-width: 1090px) {\n  .nav-bounds-with-cp .nav-categs {\n    left: 56px;\n    margin-left: 0;\n  }\n}\n.nav-categs-departments {\n  position: relative;\n  display: inline-block;\n  float: left;\n  background-color: #333;\n  padding: 22px 0;\n  border-radius: 4px;\n}\n.nav-categs-departments a {\n  cursor: default;\n}\n.nav-categs-departments a,\n.nav-categs-departments a:link,\n.nav-categs-departments a:visited {\n  color: #fff;\n  display: block;\n  padding: 0 36px;\n  line-height: 2.59;\n  max-width: 260px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.nav-categs-departments .nav-categs-departments__list--dynamic a {\n  position: relative;\n  padding-right: 44px;\n}\n.nav-categs-departments .nav-categs-departments__list--dynamic a:after {\n  border-style: solid;\n  border-width: 1.5px 1.5px 0 0;\n  border-color: rgba(255, 255, 255, 0.6);\n  content: "";\n  display: inline-block;\n  position: absolute;\n  vertical-align: middle;\n  height: 7px;\n  width: 7px;\n  transform: rotate(45deg) translateY(-50%);\n  top: 50%;\n  content: "";\n  right: 34px;\n}\n.nav-categs-departments .nav-categs-departments__list--static a {\n  cursor: pointer;\n}\n\n.nav-categs--with-details .nav-categs-departments {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.nav-categs-departments__list--static a:hover,\n.nav-categs-departments__selected {\n  background-color: #3483fa;\n}\n\n.nav-categs-detail {\n  overflow: hidden;\n  padding: 36px;\n  width: 100%;\n  position: relative;\n  background-color: #fff;\n  border-radius: 0 4px 4px 0;\n}\n.nav-categs-detail:focus {\n  outline: none;\n}\n\n.nav-categs-detail__header {\n  border-bottom: 1px solid #ddd;\n  position: relative;\n  margin-bottom: 24px;\n}\n.nav-categs-detail__header h1 {\n  font-size: 20px;\n  color: #333;\n  margin: 0 0 12px;\n  font-weight: 400;\n  line-height: 1;\n}\n\n.nav-categs-detail__categ {\n  width: 192px;\n  display: inline-block;\n  text-overflow: ellipsis;\n  margin-bottom: 24px;\n}\n\n.nav-categs-detail__title {\n  font-size: 15px;\n  font-weight: 600;\n  margin: 0 0 3px;\n  line-height: 1.1;\n}\n.nav-categs-detail__title a {\n  display: -webkit-box;\n  line-height: 1;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  line-height: inherit;\n}\n.nav-categs-detail__title a:hover {\n  color: #3483fa;\n}\n\n.nav-categs-detail__categ-list {\n  padding-left: 0;\n}\n\n.nav-categs-detail__list a {\n  width: 88px;\n  height: 88px;\n  border-radius: 4px;\n  border: 1px solid #ddd;\n  float: left;\n  margin: 0 8px 8px 0;\n  overflow: hidden;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: #fff;\n  background-size: contain;\n  font-size: 0;\n}\n\n.nav-categs-detail__categ-list a,\n.nav-categs-detail__categ-list a:link {\n  line-height: 1.85;\n  color: #666;\n  font-weight: 400;\n}\n.nav-categs-detail__categ-list a:hover,\n.nav-categs-detail__categ-list a:link:hover {\n  color: #3483fa;\n}\n\n.nav-categs-detail__body {\n  max-height: 550px;\n  overflow-y: auto;\n}\n.nav-categs-detail__body:after, .nav-categs-detail__body:before {\n  display: table;\n  content: "";\n}\n.nav-categs-detail__body:after {\n  clear: both;\n}\n\n.nav-categs-detail__body-content {\n  column-count: 3;\n  column-gap: 36px;\n  column-width: 192px;\n  overflow: hidden;\n  float: left;\n}\n\n.nav-categs-detail__body-aside {\n  display: none;\n  width: 192px;\n  float: left;\n  margin-left: 36px;\n}\n.nav-categs-detail__body-aside .nav-categs-detail__title {\n  margin-bottom: 8px;\n}\n\n@media (min-width: 1200px) {\n  .nav-categs-detail__body-content {\n    max-width: 648px;\n  }\n  .nav-categs-detail__body-aside {\n    display: block;\n  }\n}\n#nav-header-menu-mobile ul.nav-categs-departments-mobile {\n  padding: 0;\n  border: none;\n}\n#nav-header-menu-mobile .nav-categs-departments-mobile__list a:active, #nav-header-menu-mobile .nav-categs-departments-mobile__list a:focus, #nav-header-menu-mobile .nav-categs-departments-mobile__list a:hover {\n  background-color: rgb(245, 245, 245);\n}\n#nav-header-menu-mobile .nav-categs-departments-mobile__selected {\n  background-color: rgb(245, 245, 245);\n  color: #3483FA;\n}\n#nav-header-menu-mobile .nav-categs-departments-mobile-item a {\n  color: rgba(0, 0, 0, 0.55);\n  display: block;\n  padding: 8px 0;\n  font-weight: 400;\n}\n#nav-header-menu-mobile .nav-categs-departments-mobile__categories {\n  padding: 8px 0 0 26px;\n  border: none;\n}\n\n.nav-categs-departments-mobile__details[open] {\n  background-color: rgb(245, 245, 245);\n}\n\n.nav-categs-departments-mobile__summary {\n  margin-left: 26px;\n  position: relative;\n  height: 39px;\n  top: 9px;\n  list-style-type: none;\n  font-weight: 600;\n}\n.nav-categs-departments-mobile__summary::-webkit-details-marker {\n  display: none;\n}\n.nav-categs-departments-mobile__summary:after {\n  border-style: solid;\n  border-width: 1.5px 1.5px 0 0;\n  border-color: black;\n  content: "";\n  display: inline-block;\n  position: absolute;\n  vertical-align: middle;\n  height: 8px;\n  width: 8px;\n  transform: rotate(135deg) translateY(0);\n  top: 50%;\n  transform: rotate(135deg);\n  right: 30px;\n  top: 7px;\n  transition: all 200ms linear;\n}\n\n.nav-categs-departments-mobile__details[open] .nav-categs-departments-mobile__summary {\n  color: #3483FA;\n  outline: none;\n}\n.nav-categs-departments-mobile__details[open] .nav-categs-departments-mobile__summary:after {\n  transform: rotate(315deg) translate(0, 5px);\n  top: 7px;\n  right: 30px;\n  transition: all 200ms linear;\n  border-color: #3483FA;\n}\n\n.nav-categs-departments-mobile-item {\n  display: block;\n  padding: 0;\n}');const A=k,K=M;var O=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.endpoint)throw new Error("CategoriesWidget: missing endpoint.");const t=e.isMobile?'[data-js="nav-menu-categories-trigger-mobile"]':'[data-js="nav-menu-categories-trigger"]';if(this.bus=e.bus||window.freya,this.trigger=e.trigger||t,this.endpoint=e.endpoint,this.isMobile=e.isMobile,!this.bus)throw new Error("CategoriesWidget: missing bus.");this.bus.on("categories:show",this.show.bind(this)),this.bus.on("categories:hide",this.hide.bind(this)),this.bus.on("header:shown",this.deactivate.bind(this)),this.bus.on("header:hidden",this.activate.bind(this)),this.fetchData()}fetchData(){const e=new XMLHttpRequest;e.onreadystatechange=()=>{if(4===e.readyState&&200===e.status){const t=e.response||e.responseText;if(t){let e;try{e=JSON.parse(t),this.categories=this.buildCategoriesComponent(e);const n="none"!==window.getComputedStyle(document.querySelector(".nav-menu")).getPropertyValue("display"),s=parseInt(window.getComputedStyle(document.querySelector(this.trigger),":before").getPropertyValue("opacity"));n&&s&&this.categories.show()}catch(e){return}}}},e.open("GET",this.endpoint,!0),e.send()}show(){return!!this.categories&&(this.categories.show(),this.categories)}hide(){return!!this.categories&&(this.categories.hide(),this.categories)}activate(){return!!this.categories&&(this.categories.bindEvents(!0),this.categories)}deactivate(){return!!this.categories&&(this.categories.bindEvents(!1),this.categories)}buildCategoriesComponent(e){const t={triggerSelector:this.trigger,model:e,bus:this.bus};return this.isMobile?new K(t):new A(t)}};return O}();

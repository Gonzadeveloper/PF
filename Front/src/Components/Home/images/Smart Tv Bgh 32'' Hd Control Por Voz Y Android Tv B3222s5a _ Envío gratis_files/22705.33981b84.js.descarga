(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[22705],{68571:(e,t,r)=>{"use strict";r(44114);var a=r(16270),n=r(43693),o=r(91847),c=r(96540),i=r(5556),s=r(91496),l=r(72831);r(23792),r(26910),r(62953);var m=r(8116);r(27495),r(42762);var d=r(89557);r(74423),r(16280);var u=r(74848),p=r(13018),b=r(35421),f=r(43461),_=r(46942),w=r(79204);const h={MLA:{url:{mainDomain:"mercadolibre.com.ar",baseDomain:"//www.mercadolibre.com.ar"}},MPE:{url:{mainDomain:"mercadolibre.com.pe",baseDomain:"//www.mercadolibre.com.pe"}},MPT:{url:{mainDomain:"mercadolivre.pt",baseDomain:"//www.mercadolivre.pt"}},MRD:{url:{mainDomain:"mercadolibre.com.do",baseDomain:"//www.mercadolibre.com.do"}},MPA:{url:{mainDomain:"mercadolibre.com.pa",baseDomain:"//www.mercadolibre.com.pa"}},MEC:{url:{mainDomain:"mercadolibre.com.ec",baseDomain:"//www.mercadolibre.com.ec"}},MCR:{url:{mainDomain:"mercadolibre.co.cr",baseDomain:"//www.mercadolibre.co.cr"}},MLU:{url:{mainDomain:"mercadolibre.com.uy",baseDomain:"//www.mercadolibre.com.uy"}},MLM:{url:{mainDomain:"mercadolibre.com.mx",baseDomain:"//www.mercadolibre.com.mx"}},MLC:{url:{mainDomain:"mercadolibre.cl",baseDomain:"//www.mercadolibre.cl"}},MCO:{url:{mainDomain:"mercadolibre.com.co",baseDomain:"//www.mercadolibre.com.co"}},MLV:{url:{mainDomain:"mercadolibre.com.ve",baseDomain:"//www.mercadolibre.com.ve"}},MLB:{url:{mainDomain:"mercadolivre.com.br",baseDomain:"//www.mercadolivre.com.br"}},MBO:{url:{mainDomain:"mercadolibre.com.bo",baseDomain:"//www.mercadolibre.com.bo"}},MPY:{url:{mainDomain:"mercadolibre.com.py",baseDomain:"//www.mercadolibre.com.py"}},MGT:{url:{mainDomain:"mercadolibre.com.gt",baseDomain:"//www.mercadolibre.com.gt"}},MHN:{url:{mainDomain:"mercadolibre.com.hn",baseDomain:"//www.mercadolibre.com.hn"}},MNI:{url:{mainDomain:"mercadolibre.com.ni",baseDomain:"//www.mercadolibre.com.ni"}},MSV:{url:{mainDomain:"mercadolibre.com.sv",baseDomain:"//www.mercadolibre.com.sv"}},MCU:{url:{mainDomain:"mercadolibre.com.cu",baseDomain:"//www.mercadolibre.com.cu"}}};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const O=d({timeout:3e4,baseURL:"https://www.mercadolibre.com.ar",withCredentials:!0,sendCSRFToken:!1}),y={"x-card-type":"web","x-recosplugin-version":"###VERSION###"};class D{static getHostname(e){return"https:".concat(h[e.site_id].url.baseDomain)}static fetchRecommendations(e,t){const r=v(v({},y),t);return r["x-image-webp"]=!0,O.get("/product-fe-recommendations/recommendations",{params:e,headers:r,baseURL:this.getHostname(e)}).then((e=>e.data)).catch((()=>{}))}static getLab(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(t.env)e=t.env;else if(document&&document.cookie){const t=document.cookie.split(";").find((e=>"meliLab"===e.split("=")[0].trim()));if(t){const r=t.split("=")[1].trim();"recosreact"===r?e="test0":"recos"===r?e="test":"release"===r?e="testrelease":r.match(/recos-([0-9]*)/)&&(e="test".concat(r.split("-")[1]))}}}catch(e){console&&console.info("Recommendations - Cannot get lab info.",e)}return e}}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j=e=>{let{props:t,componentRef:r,fetchDelay:a=0}=e;const n=c.useRef(!1),{isOnViewport:o,setIsOnViewport:i,observeElement:s}=m.useIntersectionObserver({externalRef:r,once:!0,startOff:!0});c.useEffect((()=>{n.current=o}),[o]);const[l,d]=c.useState([]);c.useEffect((()=>{t.apiResponse?d(t.apiResponse.recommendations):(e=>{let{clients:o}=e;const c=C({site_id:t.siteId,product_id:t.productId,item_id:t.itemId,tracking:!0,product_details:!0,env:D.getLab(t)},m.mapPropsToQuery({componentProps:t,paramsToMap:["pdp_filters"]}));d([]),o.forEach(((e,t)=>{D.fetchRecommendations(C(C({},c),{},{client:e})).then((o=>{setTimeout((()=>{d((a=>{i(!1),s({element:r.current});const c=[...a];return a.length>0&&n.current?m.TrackService.requestIgnored(e):c[t]=o,c}))}),a)})).catch((()=>{}))}))})({clients:t.clients})}),[t.productId]);const[u,p]=c.useState([]);return c.useEffect((()=>{if(l&&l.length>0){const e=l.filter((e=>{var t;return e&&e.attributes_list&&(null===(t=e.recommended_products)||void 0===t?void 0:t.length)>0}));if(!e||e.length<=0)return;const t=e.sort(((e,t)=>e.priority-t.priority));p(t)}}),[l]),{recommendations:u}},I="ANONYMOUS";i.shape({attributes_list:i.arrayOf(i.shape({id:i.string,title:i.string,type:i.string})),backend:i.shape({id:i.string,type:i.string}),client:i.string,site_id:i.string,labels:i.shape({this_product:i.string,see_product:i.string,more_details:i.string,less_details:i.string}),recommended_products:i.arrayOf(i.shape({domain_id:i.string,id:i.string,img_url:i.string,name:i.string,parent_id:i.string,permalink:i.string,product_details:function(e){if(!e)throw new Error("hashmapProptype must be called with a shape validator.");return function(e){function t(t,r,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;return r[a]?e(r,a,n):t?new Error("Required `".concat(a,"` was not specified in `").concat(n,"`.")):null}const r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}((function(t,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;const n=t[r];if(n){if("object"!=typeof n)return new Error("".concat(r," hashmap should be an object in ").concat(a));const t=Object.values(n),o={hashmapValues:i.arrayOf(e)};i.checkPropTypes(o,{hashmapValues:t},r,a)}return null}))}(i.oneOfType([i.shape({count_reviews:i.number,rating_average:i.number,stars:i.number}),i.shape({value:i.number,currency_symbol:i.string,decimal_separator:i.string,thousand_separator:i.string}),i.shape({link:i.string,id:i.string,name:i.string}),i.shape({text:i.string})])),site_id:i.string,status:i.string,trigger:i.bool})),title:i.string,tracking:i.shape()});const T=["productId","env","apiResponse","fetchDelay"];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const M=e=>{const t=t=>{let{productId:r,env:n=null,apiResponse:i=null,fetchDelay:d=0}=t,p=o(t,T);const b=c.useRef(),{recommendations:f}=j({props:P({productId:r,env:n,apiResponse:i},p),componentRef:b,fetchDelay:d}),{IconFactory:_}=p,{trackedOnViewClients:w,setTrackedOnViewClients:h}=function(){let{productId:e,recommendations:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[r,a]=c.useState([]),[n,o]=c.useState([]),{trackOnPrint:i}=m.useTrackOnPrint();return c.useEffect((()=>{o([]),a([])}),[e]),c.useEffect((()=>{t&&t.length>0&&t.forEach((e=>{const{client:t}=e;n.includes(t)||(i(e.tracking),o([...n,t]))}))}),[t]),{trackedOnViewClients:r,setTrackedOnViewClients:a,trackedOnPrintClients:n,setTrackedOnPrintClients:o}}({productId:r,recommendations:f}),g=c.useRef();return u.jsx("section",{ref:b,className:"".concat(l.namespaceComparator,"__wrapper-ref"),children:f.length>0&&u.jsxs(u.Fragment,{children:[a("h2",{className:"".concat(l.namespaceComparator,"__title")},void 0,f[0].title),1===f.length?a(e,{recommendations:f[0],productId:r,trackedOnViewClients:w,setTrackedOnViewClients:h,IconFactory:_}):a(s.Tabs,{},void 0,f.map((t=>a(s.Tab,{title:t.labels.tab,onClick:()=>{var e;(e=g)&&e.current&&(e.current.scrollLeft=0)}},t.priority.toString(),a(s.TabContent,{},void 0,u.jsx(e,{recommendations:t,productId:r,trackedOnViewClients:w,setTrackedOnViewClients:h,ref:g,IconFactory:_}))))))]})})};return t.displayName="\n  Comparator Container - ".concat(e.displayName||e.name||"WrappedComparator","\n  "),t};var R;const E="".concat(l.namespaceComparator,"__reviews"),S=e=>{let{amount:t,rating:r,IconFactory:n,stars:o}=e;const c=n("recommendations-star-empty","".concat(l.namespaceComparator,"__icon")),i=n("recommendations-star-half","".concat(l.namespaceComparator,"__icon")),s=n("recommendations-star-full","".concat(l.namespaceComparator,"__icon")),m=null!=o?o:r,d=Math.floor(m),p=Math.ceil(m-d),b=5-p-d,f=[];for(let e=0;e<d;e+=1)f.push(s);for(let e=0;e<p;e+=1)f.push(i);for(let e=0;e<b;e+=1)f.push(c);return a("div",{className:"".concat(E,"__label")},void 0,r?u.jsxs(u.Fragment,{children:[a("span",{className:"".concat(E,"__rating")},void 0,r.toFixed(1)),a("span",{className:"".concat(E,"__ratings")},void 0,f),a("span",{className:"".concat(E,"__amount")},void 0,"(","".concat(t),")")]}):a("span",{className:"".concat(E,"__no-rating")},void 0,"_"))},F="".concat(l.namespaceComparator,"__seller-info"),V=e=>{let{sellerInfo:t}=e;return t.link?a("a",{href:t.link,title:t.name,className:F},void 0,t.name):a("span",{},void 0,t.name)},x="".concat(l.namespaceComparator,"__price"),L=e=>{let{thousandSeparator:t,decimalSeparator:r,currencySymbol:n,value:o,isMobile:c}=e;const i=m.getFormattedIntFraction(o,t),s=m.getFormattedDecimalFraction(o);return a(f,{value:{fraction:i,cents:s},symbol:n,className:x,size:c?12:14,centsType:","===r?"comma":"dot"})},A=e=>{let{attribute:t,component:r,isMobile:n,IconFactory:o}=e;if(void 0===r)return a("div",{className:"".concat(l.namespaceComparator,"--no-attr")});switch(t){case"REVIEWS":return r.rating_average>5&&(r.rating_average=5),a(S,{rating:r.rating_average,amount:r.count_reviews,IconFactory:o,stars:r.stars});case"SELLER":return a(V,{sellerInfo:r});case"PRICE":return a(L,{decimalSeparator:r.decimal_separator,thousandSeparator:r.thousand_separator,currencySymbol:r.currency_symbol,value:r.value,isMobile:n});default:return a("span",{},void 0,r.text)}},H=e=>{let{recommendations:t,isMobile:r=!1,IconFactory:n}=e;const o="".concat(l.namespaceComparator,"__table"),c={products:t.recommended_products,attributes:t.attributes_list,labels:t.labels,isMobile:r,IconFactory:n};return t&&t.attributes_list&&t.recommended_products?a(p.Table,{className:o},void 0,(e=>{let{products:t,labels:r}=e;const n="".concat(l.namespaceComparator,"__table");return a(p.TableHead,{},void 0,a(p.TableHeader,{scope:"column",className:"".concat(n,"__header")},void 0,R||(R=a("div",{}))),t.map(((e,t)=>a(p.TableHeader,{scope:"column",align:"center",className:"".concat(n,"__header")},e.id,0===t?u.jsxs(u.Fragment,{children:[a("div",{},void 0,a(b.Image,{className:"".concat(n,"__header__image"),src:e.img_url,alt:e.name}),a("p",{className:"".concat(n,"__header__title")},void 0,e.name)),a("span",{className:"".concat(n,"__header__link__text no-action")},void 0,r.this_product)]}):u.jsxs(u.Fragment,{children:[a("a",{href:e.permalink,className:"".concat(n,"__header__link")},void 0,a(b.Image,{className:"".concat(n,"__header__image"),src:e.img_url,alt:e.name}),a("p",{className:"".concat(n,"__header__title")},void 0,e.name)),a("a",{href:e.permalink,className:"".concat(n,"__header__link__text")},void 0,r.see_product)]})))))})(c),(e=>{let{products:t,attributes:r,isMobile:n,IconFactory:o}=e;const c="".concat(l.namespaceComparator,"__table");return a(p.TableBody,{},void 0,r.map((e=>a(p.TableRow,{},e.id,a(p.TableHeader,{scope:"row",className:"".concat(c,"__body__column")},e.id,e.title),t.map((t=>a(p.TableData,{className:"".concat(c,"__body__column")},t.id,a(A,{attribute:e.id,component:t.product_details[e.id],isMobile:n,IconFactory:o}))))))))})(c)):null},B=(e=>{const t=c.forwardRef(((t,r)=>{let{recommendations:n,IconFactory:o}=t;const[i,s]=c.useState(!0),d="".concat(l.namespaceComparator,"__table"),p=2===n.recommended_products.length;return u.jsxs(u.Fragment,{children:[a("div",{className:_("".concat(d,"__shadow-container"),i&&"collapsed")},void 0,u.jsx("div",{className:_("".concat(d,"__container"),p&&"two-cols"),ref:r,children:a(e,{recommendations:n,IconFactory:o,isMobile:!0})})),i&&a(w.Button,{className:"table-button",hierarchy:"transparent",size:"small",onClick:()=>{s(!1),m.TrackService.clickMore(n.tracking)}},void 0,a(w.ButtonText,{},void 0,n.labels.more_details),o("recommendations-chevron","".concat(l.namespaceComparator,"__icon chevron-down")))]})}));return t.displayName="\n  Collapsible Table - ".concat(e.displayName||e.name||"WrappedTable","\n  "),t})(H),U=c.forwardRef(((e,t)=>{let{recommendations:r,trackedOnViewClients:a=[],setTrackedOnViewClients:n=null,IconFactory:o}=e;const i=c.useRef();return m.useTrackOnView({componentRef:i,trackData:r.tracking,client:r.client,trackedOnViewClients:a,setTrackedOnViewClients:n,shouldTrackOnView:!0}),u.jsx("section",{id:r.client,ref:i,className:l.namespaceComparator,children:u.jsx(B,{recommendations:r,ref:t,IconFactory:o})})})),q=M((e=>{let{recommendations:t,trackedOnViewClients:r=[],setTrackedOnViewClients:n=null,IconFactory:o}=e;const i=c.useRef();return m.useTrackOnView({componentRef:i,trackData:t.tracking,client:t.client,trackedOnViewClients:r,setTrackedOnViewClients:n,shouldTrackOnView:!0}),u.jsx("section",{id:t.client,ref:i,className:l.namespaceComparator,children:a(H,{recommendations:t,IconFactory:o})})})),K=M(U);t.RecommendationsComparatorDesktop=q,t.RecommendationsComparatorMobile=K},22705:(e,t,r)=>{e.exports=r(68571)},26910:(e,t,r)=>{"use strict";var a=r(46518),n=r(79504),o=r(79306),c=r(48981),i=r(26198),s=r(84606),l=r(655),m=r(79039),d=r(74488),u=r(34598),p=r(28834),b=r(63202),f=r(77388),_=r(89160),w=[],h=n(w.sort),g=n(w.push),v=m((function(){w.sort(void 0)})),O=m((function(){w.sort(null)})),y=u("sort"),D=!m((function(){if(f)return f<70;if(!(p&&p>3)){if(b)return!0;if(_)return _<603;var e,t,r,a,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)w.push({k:t+a,v:r})}for(w.sort((function(e,t){return t.v-e.v})),a=0;a<w.length;a++)t=w[a].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));a({target:"Array",proto:!0,forced:v||!O||!y||!D},{sort:function(e){void 0!==e&&o(e);var t=c(this);if(D)return void 0===e?h(t):h(t,e);var r,a,n=[],m=i(t);for(a=0;a<m;a++)a in t&&g(n,t[a]);for(d(n,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}}(e)),r=i(n),a=0;a<r;)t[a]=n[a++];for(;a<m;)s(t,a++);return t}})}}]);
//# sourceMappingURL=22705.33981b84.js.map
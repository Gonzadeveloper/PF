(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[95332],{88606:(e,t,c)=>{"use strict";c(44114);var n=c(43693),r=c(96540),o=c(16270);c(74423),c(23792),c(62953);var a=c(34381);c(5556);var i=c(8116),s=c(72831),l=c(46942);c(72712),c(27495),c(25440),c(16280),c(3362);var m=c(89557),d=c(63363),p=c(43461),u=c(62193);c(42762);var b=c(74848),f=c(35421),y=c(79204),v=c(69620);const{getLab:O,API_PATH:g,FALLBACK_URL:_}=i.recommendationsService,h=m({baseURL:_,timeout:3e4,sendCSRFToken:!1}),j="".concat(g,"/combos"),P=e=>({item_id:e.main_info.id,variation_id:e.main_info.variation,quantity:1}),w=e=>{let{text:t,html_tag:c,class_name:n,onClick:r=null,target:a,url:i,id:m}=e;return o("TITLE"===m?"h3":"span",{className:l("".concat(s.namespaceRecommendations,"-label"),{["".concat(s.namespaceRecommendations,"-label__").concat(n)]:n}),onClick:r},void 0,"a"!==c&&i?o("a",{className:"".concat(s.namespaceRecommendations,"-link"),href:i,target:a},void 0,t&&t.trim()):t&&t.trim())},k=(e,t,c)=>"full_icon"===e?c("recommendations-full_icon","".concat(t,"-icon__shipping-fullfilment")):null;var S;function x(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function R(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?x(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}const D=/{([\s\S]+?)}/g,N=e=>{let{values:t,text:c,styles:n,class_name:a,html_tag:i,onClick:m,url:d,id:p,target:f,IconFactory:y}=e;if(u(t))return o(w,{text:c,styles:n,class_name:a,html_tag:i,onClick:m,href:d,id:p,target:f});const v=c.split(D);for(let e=0;e<v.length;e+=1){const c=v[e];if(Object.prototype.hasOwnProperty.call(t,c)){const n=t[c];switch(n.type){case"ICON":v[e]=k(n.icon_id,s.namespaceRecommendations,y);break;case"break":v[e]=S||(S=o("br",{}));break;default:v[e]=b.jsx(w,R({},n))}}else""!==c&&(v[e]=r.createElement(w,{text:c}))}return o("p",{className:l("".concat(s.namespaceRecommendations,"-label"),{["".concat(s.namespaceRecommendations,"-label__").concat(a)]:a})},void 0,v)},C={",":"comma",".":"dot"},z=e=>{let{bold:t,className:c,from:n,original_value:r,cross_outed_price:a,discount:m,subtitle:d,installments:u,priceSizeOverride:f,decimalSeparator:y}=e;const v={symbol:r.currency_symbol,currencyId:r.currency_id,fraction:r.text,cents:r.decimal},{priceSize:O}=i.priceSizeByDigits(v,f);return o("div",{className:l("".concat(s.namespaceRecommendations,"-price-container"),c,{["".concat(s.namespaceRecommendations,"-price__").concat(r.class_name)]:r.class_name})},void 0,a&&o(p,{value:{fraction:a.text,cents:a.decimal},symbol:a.currency_symbol,currencyId:a.currency_id,centsType:C[y],className:l("".concat(s.namespaceRecommendations,"-price__original-value")),size:(null==f?void 0:f.original)||12,previous:!0,compact:!0}),n&&N(n),o("div",{className:l("".concat(s.namespaceRecommendations,"-price"),{["".concat(s.namespaceRecommendations,"-price--bold")]:t})},void 0,o(p,{value:{fraction:v.fraction,cents:v.cents},symbol:v.symbol,currencyId:v.currencyId,centsType:"superscript",size:O,compact:!0}),m&&o("span",{className:l("".concat(s.namespaceRecommendations,"-price__discount"))},void 0,m&&b.jsx(b.Fragment,{children:N(m)}))),d&&o("div",{className:"".concat(s.namespaceRecommendations,"-price__subtitle")},void 0,N(d)),u&&o("div",{className:"".concat(s.namespaceRecommendations,"-price__installments")},void 0,N(u)))};function E(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function T(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?E(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):E(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}z.defaultProps={bold:!1,className:null,from:null,original_value:null,cross_outed_price:null,discount:null,subtitle:null,installments:null,decimalSeparator:null,priceSizeOverride:null};const I=e=>{let{classname:t,main_info:c,components:n,checkbox:r,device:a,target:i,handleClickCheckbox:m,priceSizeOverride:p,IconFactory:u}=e;const{disabled:f,checked:y}=r;return o("div",{className:l("".concat(s.namespaceRecommendations,"-card"),{["".concat(t)]:t}),animated:!1},void 0,o("div",{className:"".concat(s.namespaceRecommendations,"-card-content")},void 0,o(d,{disabled:f,className:"".concat(s.namespaceRecommendations,"__checkbox"),checked:y,onChange:e=>{m(e,c.id)},autoComplete:"off"}),o("div",{className:"".concat(s.namespaceRecommendations,"-card__components-container")},void 0,o("div",{className:"".concat(s.namespaceRecommendations,"-card__components")},void 0,n&&n.map((e=>(e=>{var t,n;switch(e.id.toLowerCase()){case"shipping":return b.jsx(N,T({class_name:"shipping",IconFactory:u},e));case"price":return b.jsx(z,T(T({},e),{},{priceSizeOverride:p,decimalSeparator:null!==(t=null==c||null===(n=c.prices)||void 0===n?void 0:n.decimal_separator)&&void 0!==t?t:"."}));default:return w(T(T({},e),{},{target:i}))}})(e)))),"mobile"===a&&o("div",{className:"".concat(s.namespaceRecommendations,"__chevron-container")},void 0,o("div",{className:"".concat(s.namespaceRecommendations,"__chevron")},void 0,u("recommendations-chevron","".concat(s.namespaceRecommendations,"__icon chevron-down")))))))};function L(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function F(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?L(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):L(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}I.defaultProps={classname:"",components:[],item_settings:{},main_info:{},preload:!1,checkbox:{},lowEnd:!1,target:void 0,device:""};const A=e=>{let{state:t,setState:c,createEventData:n,device:r,siteId:a,handleClick:l,showChevron:m,calculate:d,footer:p,priceSizeOverride:u,IconFactory:f}=e;const y=(e,t)=>{let{main_info:{prices:c}}=t;return e+(c?c.price:0)},v=(e,t)=>{const c=t.filter((e=>e.checkbox.checked)),n=c.reduce(y,0),r=p.components.find((e=>"price--total"===e.class_name)),o=p.actions.find((e=>"ADD-TO-CART"===e.type)),a=c.length+1,i=(e,t)=>{const c=/(\d+)/g;return e<=1?t.label_singular.replace(c,a):t.label_plural.replace(c,a)};if(r){const t=y(n,e);r.price.original_price.value=((e,t)=>{let{main_info:{prices:c}}=t;return Math.floor(e).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,(e=>"".concat(e).concat(c.thousand_separator||".")))})(t,e),r.price.original_price.decimal=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const c=e.toFixed(2).split(".")[1];return"00"!==c||t?c:""}(t),r.label=i(a,r)}return o&&(o.label=i(a,o)),F({},p)},g=(e,r)=>{const{checked:o}=e.target,s=t.combos.map((e=>(e.main_info.id===r&&(e.checkbox=F(F({},e.checkbox),{},{checked:o})),e)));c(F(F({},t),{},{combos:s}));return i.TrackService.checkedCombo(n("checked")),d?l(v(t.item,s)):((e,t,c)=>{const n=t.filter((e=>e.checkbox.checked)).map(P),r=O(""),o=r?"&env=".concat(r):"";return h.post("/".concat(j,"/total-price?site_id=").concat(c).concat(o),{headers:{"Content-Type":"application/json"},data:{item:P(e),selected:n}})})(t.item,s,a).then((e=>{let{data:t}=e;return l(t.footer)})).catch((()=>{}))};return o("div",{className:"".concat(s.namespaceRecommendations,"-card-container")},void 0,t&&t.item&&b.jsx(I,F(F({target:"_blank",device:r},t.item),{},{priceSizeOverride:u,IconFactory:f})),t&&t.combos&&t.combos.map((e=>b.jsx(I,F({target:"_blank",showChevron:m,device:r,handleClickCheckbox:g,priceSizeOverride:u,IconFactory:f},e)))))};class q extends r.Component{constructor(e){super(e),this.state={mounted:!1}}componentDidMount(){this.setState({mounted:!0})}render(){const{lazyLoad:e,src:t,width:c,height:n,src2x:r,alt:a,meta:i,className:s}=this.props,{mounted:l}=this.state;return o("div",{className:"".concat(s,"__container")},void 0,i&&o("meta",{itemProp:"image",content:t}),e&&!l?o("div",{className:s}):o(f.Image,{src:t,className:s,width:c,height:n,alt:a,srcSet:r?"".concat(t," 1x, ").concat(r," 2x"):null}))}}q.defaultProps={size:null,src2x:null,title:null,meta:!1};const B=e=>{let{state:t,gallery:c,device:n,imageConfig:r}=e;const a="mobile"===n&&t&&t.combos.length>2?"figure-main-reduced":"figure-main";return o("div",{className:"".concat(s.namespaceRecommendations,"-gallery")},void 0,o("figure",{className:"".concat(s.namespaceRecommendations,"-gallery__").concat(a)},void 0,o(q,{className:"".concat(s.namespaceRecommendations,"-gallery__image"),src:c&&c.main.picture.url,alt:c&&c.main.picture.alt,height:c&&c.main.picture.height,width:c&&c.main.picture.width,lazyLoad:null==r?void 0:r.lazyload})),c.selected&&c.selected.map((e=>b.jsxs(b.Fragment,{children:[o("span",{className:"".concat(s.namespaceRecommendations,"-gallery__plus")},void 0,"+"),o("figure",{className:"".concat(s.namespaceRecommendations,"-gallery__").concat(a)},void 0,o("a",{href:e.permalink,target:"_blank",rel:"noreferrer"},void 0,o(q,{className:"".concat(s.namespaceRecommendations,"-gallery__image"),src:e&&e.picture.url,alt:e.picture.alt,height:e&&e.picture.height,width:e&&e.picture.width,lazyLoad:null==r?void 0:r.lazyload},"".concat(e.id,"--image"))))]}))))},M=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,(t=>"".concat(t).concat(e)))},U=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toString();return e.length>1?e:"0".concat(e)},H=e=>{let{original_price:t,original_value:c,decimal:n,discount:r,priceSizeOverride:a}=e;return b.jsxs(b.Fragment,{children:[t&&o(p,{value:{fraction:M(t.value,".")||0,cents:t.decimal?U(t.decimal):null},symbol:t.currency_symbol,currencyId:t.currency_id,centsType:"superscript",size:(null==a?void 0:a.price)||16,compact:!0}),c&&o(p,{value:{fraction:c.text,cents:n},symbol:c.currency_symbol,currencyId:c.currency_id,centsType:"superscript",size:(null==a?void 0:a.price)||16,compact:!0}),r&&o("span",{className:"".concat("ui-combos-label","__discount")},void 0,r.text.trim())]})};function K(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}const V=e=>{let{components:t,priceSizeOverride:c,className:r}=e;return o("div",{className:"".concat(r,"__shipping")},void 0,t&&t.map((e=>o("span",{className:"".concat(r,"__").concat(e.class_name)},e.type,o("span",{className:"".concat(r,"-label")},void 0,e.label||e.label_plural,e.shipping&&o("span",{className:"".concat(r,"-label-shipping")},void 0,e.shipping),":"),e.price&&b.jsx(H,function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?K(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({priceSizeOverride:c},e.price)),e.extra_data&&o("span",{className:"".concat(r,"__").concat(e.class_name,"__extra-data")},void 0,e.extra_data)))))},Y=e=>{let{actions:t,size:c,className:n}=e;return o("div",{className:"".concat(n,"__actions")},void 0,t&&t.map((e=>o(y.Button,{className:e.class_name,hierarchy:e.hierarchy,size:c,type:"submit"},e.type,o("span",{},void 0,e.label||e.label_plural)))))};function G(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function J(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?G(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):G(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}const Q=e=>{let{apiResponse:t,size:c,device:n,priceSizeOverride:d,IconFactory:p,shouldRaiseErrors:u,showVariationsError:f,className:y}=e;const{title:v,gallery:O,footer:g,track:_,classname:h,calculate:j,site_id:w,variation_id:k,image_config:S,recommendation_info:x}=t,{recommendations:R}=x,[D,N]=r.useState({item:R&&R[0],combos:R&&R.filter((e=>{var t;return!(null!=e&&null!==(t=e.classname)&&void 0!==t&&t.includes("ui-combos-card-feature"))}))}),C="red",[z,E]=r.useState(O),[T,I]=r.useState(g),[L,F]=r.useState(null),q=e=>{I(J({},e))},M=e=>{if(!e)return{};const t=e.components.find((e=>"PRICE"===e.type));return{currency_id:t.currency_symbol,price:t.original_value.text,item:{id:e.main_info.id,category_id:e.main_info.category_id,variation:e.main_info.variation},quantity:1}},U=()=>{const e=D.combos.filter((e=>e.checkbox.checked)),t=e.map(M),c=O.selected.filter((t=>e.find((e=>e.main_info.id===t.id))));E(J(J({},O),{},{selected:c}));return{event_data:{backend_id:_.event_data.backend_id,client:_.event_data.client,item:D.item.main_info.id,variation:D.item.main_info.variation,items:t,quantity:t.length+1},experiment:_.experiment,experiments:_.experiments}};return r.useEffect((()=>{N({item:R&&R[0],combos:R&&R.filter((e=>{var t;return!(null!=e&&null!==(t=e.classname)&&void 0!==t&&t.includes("ui-combos-card-feature"))}))}),E(O),I(g)}),[k,g,O,R]),b.jsxs(b.Fragment,{children:[o("div",{className:l(s.namespaceCombos,y,h)},void 0,o("form",{onSubmit:e=>{e.preventDefault();const t=document.querySelector('meta[name="csrf-token"]');t?t.content:console.log("no existe meta csrf-token"),u&&(f(n,"APPLAY"),"desktop"!==n)||((e,t)=>{const c=t.filter((e=>e.checkbox.checked)).map(P);return m({baseURL:"",maxRedirects:0,method:"post",responseType:"json",sendCSRFToken:!0,timeout:25e3}).post("".concat("/p/api/combos","/add-to-cart"),{headers:{"Content-Type":"application/json"},data:{item:P(e),selected:c}})})(D.item,D.combos).then((e=>{let{data:t}=e;i.TrackService.addToCartCombo(U()),window.location=t.cart_url})).catch((e=>{var t;t=e.response.data.displayMessage,F({text:t,type:C}),setTimeout((()=>{F(null)}),3e3)}))},action:"p/api/combos/add-to-cart",method:"POST"},void 0,o("h2",{className:"".concat(s.namespaceRecommendations,"__title")},void 0,v),z&&o(B,{state:D,gallery:z,device:n,imageConfig:S}),o("div",{className:"".concat(s.namespaceRecommendations,"-container")},void 0,(H=n,o(A,{state:D,setState:N,createEventData:U,siteId:w,handleClick:q,device:n,showChevron:"mobile"===H,footer:g,calculate:j,priceSizeOverride:d,IconFactory:p})),T&&o("div",{className:"".concat(s.namespaceRecommendations,"-footer")},void 0,T.components&&o(V,{components:T.components,priceSizeOverride:d,className:"".concat(s.namespaceRecommendations,"-footer")}),T.actions&&o(Y,{actions:T.actions,size:c,className:"".concat(s.namespaceRecommendations,"-footer")}))))),L&&L.text&&o(a.Snackbar,{delay:3e3,message:L.text,color:L.type,show:!0})]});var H};function W(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}const X={price:18,discount:12,installments:14,original:12};function Z(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}const $={price:16,discount:12,installments:14,original:12};function ee(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function te(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):ee(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}const ce=e=>t=>{let c=Object.assign({},(v(t),t));const{apiResponse:n}=c,{track:o}=n,a=r.useRef();return i.useTrackRecommendations({combosContainerRef:a,trackData:o,shouldTrackOnView:!0,trackingFunction:i.TrackService.viewCombos}),b.jsx("section",{id:o.event_data.client,ref:a,className:"".concat(s.namespaceCombos,"-wrapper-ref"),children:b.jsx(e,te({},c))})};function ne(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function re(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):ne(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}const oe=ce((e=>b.jsx(Q,function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?W(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):W(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({device:"desktop",size:"medium",priceSizeOverride:X},e)))),ae=ce((e=>b.jsx(Q,function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(c),!0).forEach((function(t){n(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({device:"mobile",size:"large",priceSizeOverride:$},e))));t.RecommendationsAddToCart=class{static addToCart(e,t,c,n){const r={item_id:e.body.item_id,site_id:e.body.site_id||e.body.item_id.substring(0,3),context:e.body.context||"recommendations",quantity:e.body.quantity||"1",user_id:e.user.id,flow_type:"mercadolibre",mode:"page"},o=re(re(re(re({},t.locals.restclient.params),e.params),e.query),{},{user_id:e.user.id,"caller.id":e.user.id,site_id:e.body.site_id||e.body.item_id.substring(0,3),item_id:e.body.item_id}),{headers:a}=t.locals.restclient;return n.post("/frontend/carts/items/add",{data:r,params:o,headers:a,context:c})}},t.RecommendationsCombosDesktop=oe,t.RecommendationsCombosMobile=ae},95332:(e,t,c)=>{e.exports=c(88606)},72831:(e,t)=>{"use strict";const c="ui-recommendations",n="".concat(c,"-comparator"),r="".concat(c,"-combos");t.namespaceCombos=r,t.namespaceComparator=n,t.namespaceRecommendations=c},69620:e=>{e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=95332.8bbc86fd.js.map